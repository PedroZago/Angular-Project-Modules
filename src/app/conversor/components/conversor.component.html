<div *ngIf="possuiErro" class="alert alert-danger mb-1" role="alert">
  <div class="m-1">
    Erro obtendo dados. Tente novamente.
  </div>
</div>

<div class="card">

  <h5 class="card-header">Selecione a moeda a ser convertida</h5>

  <div class="card-body">

    <form #conversaoForm="ngForm" class="row g-3 d-flex align-items-center justify-content-center">

      <div class="col-auto">
        <input type="text" name="valor" class="form-control text-end" placeholder="0" numero
          [(ngModel)]="conversao.valor" required>
      </div>

      <div class="col-auto">
        <select name="moedaDe" class="form-select" [(ngModel)]="conversao.moedaDe" required>
          <option *ngFor="let moeda of moedas" [value]="moeda.sigla">{{ moeda.sigla }} - {{ moeda.descricao }}</option>
        </select>
      </div>

      <div class="col-auto">
        <i class="bi bi-arrow-right-square-fill"></i>
      </div>

      <div class="col-auto">
        <select name="moedaPara" class="form-select" [(ngModel)]="conversao.moedaPara" required>
          <option *ngFor="let moeda of moedas" [value]="moeda.sigla">{{ moeda.sigla }} - {{ moeda.descricao }}</option>
        </select>
      </div>

      <div class="col-auto">
        <input type="submit" value="Converter" class="btn btn-success" (click)="converter()"
          [disabled]="!conversaoForm.form.valid" data-bs-toggle="modal" data-bs-target="#modalCotacao">
      </div>

    </form>

  </div>

  <modal-cotacao [id]="'modalCotacao'" [conversaoResponse]="conversaoResponse" [conversao]="conversao"
    (onConfirm)="init()">
  </modal-cotacao>

</div>
